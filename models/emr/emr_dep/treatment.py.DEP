# 28 jul 2020

# ----------------------------------------------------------- PL ---------------------------

# ----------------------------------------------------------- Fields - Services ------------------------










# 26 jul 2020


state = 'empty'
if record.treatment_closed:
  state = 'done'
elif record.nr_controls > 0:
  state = 'controls'
elif record.nr_sessions > 0:
  state = 'sessions'
elif record.nr_procedures > 0:
  state = 'procedure'
elif record.nr_invoices_pro > 0:
  state = 'invoice_procedure'
elif record.nr_budgets_pro > 0:
  state = 'budget_procedure'
elif record.nr_services > 0:
  state = 'service'
elif record.consultation_progress == 100:
  state = 'consultation'
elif record.nr_invoices_cons > 0:
  state = 'invoice_consultation'
elif record.nr_budgets_cons > 0:
  state = 'budget_consultation'

record.state = state




# 22 jul 2020

<!-- Manual -->
<!--
<group>
  <button
    type="object"
    name="toggle_add_procedures"
    attrs="{ 'invisible':[  ('add_procedures','!=',False),  ]}"
    string="Manual"
  />

  <button
    type="object"
    class="oe_highlight"
    name="toggle_add_procedures"
    attrs="{ 'invisible':[  ('add_procedures','==',False),  ]}"
    string="Manual"
  />

  <field name="add_procedures"    invisible="1"/>
</group>
-->


<!--
				<tree default_order='start_date desc'>
grey:state=='done';
-->
<!--
limit = 40
					<field name="flag"/>
					<field name="procedure_ids"     groups="openhealth.roots"/>
-->
<!--
					<field name="x_test"/>
					<field name="name"/>
					<field name="patient_sex"/>
					<field name="patient_age"/>
					<field name="patient_city"/>
					<field name="duration"/>
					<field name="end_date"/>
					<field name="treatment_open"/>
					<field name="id"/>
					<field name="nr_appointments"/>
					<field name="nr_consultations"  string="Consultas"  style="text-align:center;"/>
					<field name="nr_orders"/>
					<field name="nr_procedures"     string="Procedimientos" style="color:red;"/>
					<field name="nr_controls"/>
					<field name="nr_sessions"/>
					<field name="nr_evaluations"/>
					<field name="nr_services"/>
					<field name="price_total"/>
					<field name="partner_id"/>
-->



# ----------------------------------------------------------- Dummy ------------------------
	#appointment_ids = fields.Char()



<!-- Reports -->
<!--
<field name="report_management"/>
<field name="report_marketing"/>
<field name="report_account"/>
<field name="report_contasis"/>
<field name="report_product"/>
-->



# ----------------------------------------------------------- Test Reports - Dep ----------------------------------------------
	# Management
	report_management = fields.Many2one(
			'openhealth.management',
			string="MGT",
		)

	# Marketing
	report_marketing = fields.Many2one(
			'openhealth.marketing',
			string="MKT",
		)

	# Contasis
	report_contasis = fields.Many2one(
			'openhealth.account.contasis',
			string="ACC",
		)

	# Txt
	report_account = fields.Many2one(
			'openhealth.container',
			string="TXT",
		)
