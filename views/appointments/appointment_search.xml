<?xml version="1.0"?>
<openerp>
    <data>



<!-- FILTER --> 
        <record id="oehealth.view_oeh_medical_appointment_filter" model="ir.ui.view">
           <field name="name">Appointment Search</field>
           <field name="model">oeh.medical.appointment</field>
           <field name="arch" type="xml">

               <search string="appointments">
<!--
                   	<field name="doctor" />               
-->

					<field name="name" filter_domain="
													[
														'|',
														'|',
														'|',
														'|',
														('patient','ilike',self),
														('doctor','ilike',self),
														('x_type','ilike',self),
														('x_subtype','ilike',self),
														('x_id_doc','ilike',self),
													]
												"/>



<!-- This -->
<!--
                                                            ('appointment_date', '&gt;=', datetime.datetime.now().strftime('%Y-%m-%d 05:00:00')),
                                                            ('appointment_date','&gt;=','2019-01-29 05:00:00'),

                                                            ('appointment_date','&lt;','2019-01-30 05:00:00'),
-->
                    <filter string="Hoy" domain="[
                                
                            ('appointment_date', '&gt;=',  datetime.datetime.now().strftime('%Y-%m-%d 05:00:00')),

                            ('appointment_date', '&lt;=', (datetime.date.today() + datetime.timedelta(days=1)).strftime('%Y-%m-%d 05:00:00')),
                                
                                            ]"/>

<!--

                    <filter string="Este Mes" domain="[
                                                            ('appointment_date','&gt;=',time.strftime('%Y-%m-01 05:00:00')),
                                            ]"/>


                    <filter string="Este Año" domain="[
                                                            ('appointment_date','&gt;=',time.strftime('%%Y-01-01 05:00:00')), 
                                            ]"/>
-->
                    <separator/>



<!-- Filters --> 
                    <filter string="Enero" domain="[
                                                            ('appointment_date','&gt;=','2019-01-01 05:00:00'),
                                                            ('appointment_date','&lt;','2019-02-01 05:00:00'),
                                            ]"/>


                    <filter string="Febrero" domain="[
                                                            ('appointment_date','&gt;=','2019-02-01 05:00:00'),
                                                            ('appointment_date','&lt;','2019-03-01 05:00:00'),
                                            ]"/>


                    <filter string="Marzo" domain="[
                                                            ('appointment_date','&gt;=','2019-03-01 05:00:00'),
                                                            ('appointment_date','&lt;','2019-04-01 05:00:00'),
                                            ]"/>

                    <filter string="Abril" domain="[
                                                            ('appointment_date','&gt;=','2019-04-01 05:00:00'),
                                                            ('appointment_date','&lt;','2019-05-01 05:00:00'),
                                            ]"/>

                    <filter string="Mayo" domain="[
                                                            ('appointment_date','&gt;=','2019-05-01 05:00:00'),
                                                            ('appointment_date','&lt;','2019-06-01 05:00:00'),
                                            ]"/>

                    <filter string="Junio" domain="[
                                                            ('appointment_date','&gt;=','2019-06-01 05:00:00'),
                                                            ('appointment_date','&lt;','2019-07-01 05:00:00'),
                                            ]"/>





                    <filter string="Julio" domain="[
                                                            ('appointment_date','&gt;=','2019-07-01 05:00:00'),
                                                            ('appointment_date','&lt;','2019-08-01 05:00:00'),
                                            ]"/>

                    <filter string="Agosto" domain="[
                                                            ('appointment_date','&gt;=','2019-08-01 05:00:00'),
                                                            ('appointment_date','&lt;','2019-09-01 05:00:00'),
                                            ]"/>

                    <filter string="Setiembre" domain="[
                                                            ('appointment_date','&gt;=','2019-09-01 05:00:00'),
                                                            ('appointment_date','&lt;','2019-10-01 05:00:00'),
                                            ]"/>

                    <filter string="Octubre" domain="[
                                                            ('appointment_date','&gt;=','2019-10-01 05:00:00'),
                                                            ('appointment_date','&lt;','2019-11-01 05:00:00'),
                                            ]"/>

                    <filter string="Noviembre" domain="[
                                                            ('appointment_date','&gt;=','2019-11-01 05:00:00'),
                                                            ('appointment_date','&lt;','2019-12-01 05:00:00'),
                                            ]"/>

                    <filter string="Diciembre" domain="[
                                                            ('appointment_date','&gt;=','2019-12-01 05:00:00'),
                                                            ('appointment_date','&lt;','2020-01-01 05:00:00'),
                                            ]"/>






                    <!-- Group By --> 
                    <group expand="1" string="Group By">

                        <filter name="Paciente" context="{'group_by':'patient'}"/>

                        <filter name="Tipo" context="{'group_by':'x_type'}"/>
                        <filter name="Sub-tipo" context="{'group_by':'x_subtype'}"/>
                        <filter name="Estado" context="{'group_by':'state'}"/>

                        <filter name="Fecha" context="{'group_by':'appointment_date'}"/>

                        <filter name="Mes" context="{'group_by':'x_month'}"/>
                        <filter name="Dia" context="{'group_by':'x_day'}"/>

<!--
                        <filter name="Médico" context="{'group_by':'doctor'}"/>
                        <filter name="Creado por" context="{'group_by':'user_id'}"/>
-->
                    </group>


               </search>
           </field>
       </record>


       
    </data>
</openerp>
