<?xml version="1.0"?>
<openerp>
	<data>
		



		<!-- FORM --> 
		<record model="ir.ui.view" id="management_form_view">
			<field name="name">management.form</field>
			
			<field name="model">openhealth.management</field>
			
			<field name="arch" type="xml">

				<form string="Management Form">
					


					<!-- Header -->
					<header>


						<!-- Update -->
						<button 
								type="object" 
								class="oe_highlight"

								name="update"

								string="Actualizar"								
						/>



						<!-- Update Sales -->
						<!-- Update Stats -->
						<!-- Update counters -->
						<!-- Update QC -->
<!--						
						<button 
								type="object" 
								class="oe_highlight"

								name="update_sales"

								string="Actualizar Ventas"								
						/>

						<button 
								type="object" 
								class="oe_highlight"

								name="update_stats"

								string="Stats"								
						/>

						<button 
								type="object" 
								class="oe_highlight"

								name="update_counters"

								string="Counters"								
						/>

						<button 
								type="object" 
								class="oe_highlight"

								name="update_qc"

								string="Quality Control"								
						/>
-->






						<!-- Families -->
						<button 
								class="oe_highlight"
								type="action" 

								context="{
											'search_default_management_id': active_id,	
										}" 											
								
								name="%(management_family_line_form_action)d" 

								string="Ver Familias"	
						/>



						<!-- Doctores -->
						<button 
								class="oe_highlight"
								type="action" 

								context="{
											'search_default_management_id': active_id,	
										}" 											
								
								name="%(management_doctor_line_form_action)d" 

								string="Doctores"	
						/>



						<!-- Sales -->
						<button 
								class="oe_highlight"
								type="action" 

								context="{
											'search_default_management_id': active_id,	
										}" 											
								
								name="%(management_order_line_form_action)d" 

								string="Ventas"	
						/>



						<!-- Test -->
						<!-- Clear -->
<!--
						<button 
								type="object" 
								class="oe_highlight oe_right"

								name="test_integration"

								string="TEST INTEGRATION"								

								groups="openhealth.roots"
						/>

						<button 
								type="object" 
								class="oe_highlight oe_right"

								name="test_clear"

								string="Clear"								

								groups="openhealth.roots"
						/>
-->

					</header>


					<!-- Sheet -->	
					<sheet>

						<group 	col="4"	groups='openhealth.roots'  >

							<group>
								<field name="test"/>
								<field name="nr_delta"/>
							</group>
								
							<group>
								<field name="prod_test"/>
								<field name="consu_test"/>
							</group>
						
							<group>
								<field name="laser_test"/>
								<field name="medi_test"/>
							</group>

							<group>
								<field name="cosme_test"/>
								<field name="other_test"/>
							</group>
						</group>




						<group	string="Totales"	col="2"		>

							<group>
								<field name="name"/>

								<field name="date_begin"/>

								<field name="date_end"/>
<!--
								<field name="write_date"	string="Actualizado"/>
-->
								<field name="write_date"	string="Actualizado"/>
							</group>

							
							<group>
								<field name="total_amount"/>

								<field name="total_count"	string="Nr Ventas"	/>

								<field name="total_tickets"/>
							</group>
<!--
							<group>
								<field name="ratio_pro_con"/>
								<field name="nr_delta"/>
							</group>
-->
						</group>



						<!-- Ratios --> 
						<group	string="Ratios"	col="3"	>
							<group>
								<field name="ratio_pro_con"/>
							</group>
						
							<group>
							</group>

							<group>
							</group>
						</group>





<!--
								<field name="nr_products"	string="Productos"	/>
								<field name="nr_procedures"	string="Procedimientos"	/>
								<field name="amo_products"		string="Productos"	/>
								<field name="amo_procedures"	string="Procedimientos"	/>
								<field name="avg_products"		string="Productos"	/>
								<field name="avg_procedures"	string="Procedimientos"	/>
-->

						<!-- Families --> 
						<group	string="Familias"	col="3"	>
							<group>
								<field name="nr_consultations"/>
								<field name="nr_products"/>
								<field name="nr_procedures"/>
							</group>
						
							<group>
								<field name="amo_consultations"		/>
								<field name="amo_products"/>
								<field name="amo_procedures"/>
							</group>

							<group>
								<field name="avg_consultations"			/>
								<field name="avg_products"/>
								<field name="avg_procedures"/>
							</group>
						</group>




						<!-- Sub-Families --> 
						<group	string="Sub Familias"	col="3"	>
							<group>
								<field name="nr_co2"/>
								<field name="nr_exc"/>
								<field name="nr_ipl"/>
								<field name="nr_ndyag"/>
								<field name="nr_quick"/>

								<field name="nr_medical"/>
								<field name="nr_cosmetology"/>
							</group>
						
							<group>
								<field name="amo_co2"/>
								<field name="amo_exc"/>
								<field name="amo_ipl"/>
								<field name="amo_ndyag"/>
								<field name="amo_quick"/>
								
								<field name="amo_medical"/>
								<field name="amo_cosmetology"/>
							</group>

							<group>
								<field name="avg_co2"/>
								<field name="avg_exc"/>
								<field name="avg_ipl"/>
								<field name="avg_ndyag"/>
								<field name="avg_quick"/>

								<field name="avg_medical"/>
								<field name="avg_cosmetology"/>
							</group>
						</group>




<!--
						<group>
							<group>
							</group>
						
							<group>
							</group>
						</group>
-->


						<!-- Notebook --> 
						<notebook>	




							<!-- Orders --> 
							<page	string="Ventas">

								<field name="order_line">


									<tree string="Ventas"	limit="500"		default_order='x_date_created desc'	

										colors="
										red:delta==2
										"
										>	
<!--
										green:state=='sent';
										blue:state=='sale';
										grey:state in ('cancel')
-->

										<field name="patient"/>

										<field name="doctor"/>

										<field name="serial_nr"/>

										<field name="delta"/>

										<field name="x_date_created"/>

										<field name="family"/>

										<field name="sub_family"/>

										<field name="product_id"/>

										<field name="product_uom_qty"/>

										<field name="price_unit"/>

										<field name="price_subtotal"/>

									</tree>
								</field>
							</page>

<!--
										<field name="name"/>
										<field name="state"/>
								<field name="order_line"/>
-->



							<!-- Doctores --> 
							<page	string="Por Doctor">
								<field name="doctor_line">
									<tree string="Doctor"	limit="1000"	>	
										
										<!-- Open Button -->
										<button 
											type="object" 
											class="oe_highlight"	
											name="open_line_current" 
											string="e"
										/>



										<field name="name"/>

										<field name="nr_consultations"/>

										<field name="nr_procedures"/>

										<field name="nr_products"/>



<!--
										<field name="nr_procedures_co2"/>

										<field name="nr_procedures_quick"/>

										<field name="nr_medicals"/>
-->


										<field name="ratio_pro_con"/>

										<field name="ratio_pro_con_co2"/>

										<field name="ratio_pro_con_quick"/>




										<field name="x_count"/>
									
										<field name="amount"/>
									</tree>
								</field>
							</page>







							<!-- Familias --> 
							<page	string="Familias">

								<field name="family_line">
								
									<tree string="Familia"	limit="1000"	>	
								

										<field name="idx"/>



										<field name="name_sp"/>

										<field name="meta_sp"/>
<!--
										<field name="name"/>

										<field name="meta"/>
-->


										<field name="amount"/>

										<field name="x_count"/>

									</tree>
								</field>
							</page>




							<!-- Sub Familias --> 
							<page	string="Sub Familias">

								<field name="sub_family_line">
								
									<tree string="Subfamilia"	limit="1000"	>	
								

										<field name="idx"/>


										<field name="name_sp"/>
										<field name="meta_sp"/>

<!--
										<field name="name"/>
										<field name="meta"/>
-->

										<field name="x_count"/>
										<field name="amount"/>
									</tree>
								</field>
							</page>



						</notebook>
					</sheet>
				</form>
			</field>
		</record>




	
		<!-- TREE --> 
		<record model="ir.ui.view" id="management_view_tree">
			<field name="name">openhealth.management.tree</field>
			<field name="model">openhealth.management</field>
			<field name="arch" type="xml">

<!--
				<tree string="Account Contasis Tree" default_order='date desc'>
-->
				<tree string="Management Tree">
					

					<field name="name"/>
<!--
					<field name="write_date"	string="Actualizado"/>
-->
					<field name="date_begin"	string="Fecha Inicio"/>

					<field name="date_end"		string="Fecha Fin"/>

					<field name="total_count"/>

					<field name="total_tickets"/>



					<field name="nr_consultations"/>
					<field name="nr_procedures"/>
					<field name="ratio_pro_con"/>



					<field name="total_amount"/>
				</tree>
			</field>
		</record>







		<!-- ACTION - Order -->
		<record model="ir.actions.act_window" id="management_list_action">

			<field name="name">An√°lisis de Ventas</field>
			
			<field name="res_model">openhealth.management</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>

			<field name="domain">[]</field>

			<field name="context">{}</field>

			<!--
			<field name="domain">[]</field>
			<field name="context">{}</field>
			<field name="view_id" eval="False"/>			
			<field name="help" type="html">
				<p class="oe_view_nocontent_create">Create the first order
				</p>
			</field>
			-->
		</record>




	</data>
</openerp>
