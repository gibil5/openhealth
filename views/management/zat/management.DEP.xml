<!--
7 DEc 2019
-->


						<!-- Notebook - Dep -->  
							<!-- Validate --> 
							<!-- Patients -->
<!--
								<field name="admin_mode"		groups="openhealth.roots"/>
						<notebook groups="openhealth.roots"		invisible="1">  
						<notebook groups="openhealth.roots"		attrs="{'invisible':[   
																						('admin_mode','not in',[True]),
																		]}">
						</notebook>
-->




<!-- FORM --> 
		<record model="ir.ui.view" id="management_form_view">
			<field name="name">management.form</field>          
			<field name="model">openhealth.management</field>
			<field name="arch" type="xml">
				<form string="Management Form">

					<!-- Header -->
					<header>



<!-- Left -->
						<!-- Update -->
						<button 
								type="object"
								class="oe_highlight"
								name="update_fast"
								string="Actualizar"
						/>

						<!-- Update Doctors -->
						<button 
								type="object" 
								class="oe_highlight"
								name="update_doctors"
								string="Analisis por Doctor"
						/>



						<!-- See Sales -->
						<button 
								class="oe_highlight"
								type="action" 
								context="{
											'search_default_management_id': active_id,  
										}"                                          
								name="%(management_order_line_form_action)d"
								string="Ver Ventas" 
						/>


						<!-- See Doctors -->
						<button
								class="oe_highlight"
								type="action"
								context="{
											'search_default_management_id': active_id,
										}"
								name="%(management_doctor_line_form_action)d"
								string="Ver Doctores"
						/>






						<!-- Update Productivity -->
						<button 
								type="object" 
								class="oe_highlight"

								name="update_productivity"
								
								string="Actualizar Productividad"                             
						/>

						<!-- See Productivity -->
						<button
								class="oe_highlight"
								type="action" 
								context="{
											'search_default_management_id': active_id,  
										}"                                          

								name="%(management_day_line_form_action)d" 

								string="Ver Productividad"   
						/>





						<!-- Update daily -->
						<button 
								type="object" 
								class="oe_highlight"
								name="update_daily"
								string="Actualizar Diario"                             
						/>


						<!-- See daily -->
						<button
								class="oe_highlight"
								type="action" 
								context="{
											'search_default_management_id': active_id,  
										}"

								name="%(management_day_doctor_line_form_action)d" 

								string="Ver Diario"   
						/>



<!-- Right -->
						<!-- Reset -->
						<button 
								type="object" 
								class="oe_highlight oe_right"
								name="reset"
								string="Reset"
						/>
					</header>





					<!-- Sheet -->  
					<sheet>


						<!-- Totals --> 
						<group  string="Totales"    col="3">

							<group>
								<field name="name"/>
								<field name="date_begin"/>
								<field name="date_end"/>
								<field name="owner"   groups="openhealth.roots"  />

								<field name="write_date"    string="Actualizado"/>

								<field name="month"  groups="openhealth.roots"/>
								<field name="year"   groups="openhealth.roots"/>
<!--
								<field name="vspace"/>
-->
							</group>


							<group>
								<field name="total_count"/>
								<field name="total_tickets"/>
								<field name="ratio_pro_con"/>
							</group>


							<group>
								<field name="total_amount"/>

								<field name="configurator"/>
<!--
								<field name="total_amount_year"/>
								<field name="per_amo_total"   widget="percentage"  />
-->
							</group>

<!--
							<group>
								<field name="ratio_pro_con"/>
								<field name="nr_delta"/>
							</group>
-->
						</group>



						<!-- Type --> 
<!--                        
						<group  string="Tipo"   col="3">
							<group>
								<field name="nr_products"   string="Productos Nr"   />
								<field name="nr_services"   string="Servicios Nr"/>
							</group>                        
							<group>
								<field name="amo_products"  string="Monto"  />
								<field name="amo_services"  string="Monto"  />
							</group>
							<group>
								<field name="avg_products"  string="Precio Prom."   />
								<field name="avg_services"  string="Precio Prom."   />
							</group>
						</group>
-->


						<!-- Families --> 
						<group  string="Familias"   col="3">

							<group>
								<field name="nr_products"       string="Productos"/>
								<field name="nr_consultations"  string="Consultas"/>
								<field name="nr_procedures"     string="Procedimientos"/>
								<field name="nr_other"          string="Otros"/>

								<field name="nr_credit_notes"          string="Notas de Credito"/>
							</group>

							<group>
								<field name="amo_products"      string="Monto"  nolabel="0"/>
								<field name="amo_consultations" string="Monto"  nolabel="0"/>
								<field name="amo_procedures"    string="Monto"  nolabel="0" />
								<field name="amo_other"         string="Monto"/>

								<field name="amo_credit_notes"         string="Notas de Credito"/>
							</group>

							<group>
								<field name="per_amo_products"         string="Porc Monto" widget="percentage" />
								<field name="per_amo_consultations"    string="Porc Monto" widget="percentage" />
								<field name="per_amo_procedures"       string="Porc Monto" widget="percentage" />
								<field name="per_amo_other"            string="Porc Monto" widget="percentage" />

							</group>

<!--
							<group>
								<field name="per_nr_products"          string="Productos Porc Nr"   widget="percentage" />
								<field name="per_nr_consultations"     string="Consultas Porc Nr"   widget="percentage" />
								<field name="per_nr_procedures"        string="Procedimientos Porc Nr"  widget="percentage" />
								<field name="per_nr_other"             string="Otros Porc Nr"       widget="percentage" />
							</group>
-->
						</group>




						<group string="Precios Promedio"   col="3">
							<group>
								<field name="avg_products"      string="Productos"/>
								<field name="avg_consultations" string="Consultas"/>
								<field name="avg_procedures"    string="Procedimientos"/>
								<field name="avg_other"         string="Otros"/>
							</group>
						</group>



						<!-- Padding -->
						<group>
							<group>
							</group>
							<group>
							</group>
						</group>




						<!-- Sub-Families --> 
						<group  string="Sub-Familias"   col="3" >
							<group>
								<field name="nr_topical"    string="Cremas"/>
								<field name="nr_card"       string="Vip"/>
								<field name="nr_kit"        string="Kits"/>

								<field name="vspace"/>

								<field name="nr_co2"    string="Co2"/>
								<field name="nr_exc"    string="Exc"/>
								<field name="nr_ipl"    string="Ipl"/>
								<field name="nr_ndyag"  string="Ndyag"/>
								<field name="nr_quick"  string="Quick"/>
								<field name="nr_medical"        string="TM"/>
								<field name="nr_cosmetology"    string="Cosmeatria"/>
							</group>


							<group>
								<field name="amo_topical"   string="Monto"/>
								<field name="amo_card"   string="Monto"/>
								<field name="amo_kit"   string="Monto"/>

								<field name="vspace"/>

								<field name="amo_co2"   string="Monto"/>
								<field name="amo_exc"   string="Monto"/>
								<field name="amo_ipl"   string="Monto"/>
								<field name="amo_ndyag" string="Monto"/>
								<field name="amo_quick" string="Monto"/>
								<field name="amo_medical"       string="Monto"/>
								<field name="amo_cosmetology"   string="Monto"/>
							</group>


							<group>
								<field name="per_amo_topical"   string="%"    widget="percentage"/>
								<field name="per_amo_card"   string="%"       widget="percentage"/>
								<field name="per_amo_kit"   string="%"        widget="percentage"/>

								<field name="vspace"/>

								<field name="per_amo_co2"   string="%"        widget="percentage"/>
								<field name="per_amo_exc"   string="%"        widget="percentage"/>
								<field name="per_amo_ipl"   string="%"        widget="percentage"/>
								<field name="per_amo_ndyag" string="%"        widget="percentage"/>
								<field name="per_amo_quick" string="%"        widget="percentage"/>
								<field name="per_amo_medical"       string="%"    widget="percentage"/>
								<field name="per_amo_cosmetology"   string="%"    widget="percentage"/>
							</group>
						</group>



						<group  string="Precios Promedio"   col="3" >

							<group>
								<field name="avg_topical"   string="Cremas"/>
								<field name="avg_card"      string="Vip"/>
								<field name="avg_kit"       string="Kits"/>

								<field name="vspace"/>

								<field name="avg_co2"   string="Co2"/>
								<field name="avg_exc"   string="Exc"/>
								<field name="avg_ipl"   string="Ipl"/>
								<field name="avg_ndyag" string="Ndyag"/>
								<field name="avg_quick"         string="Quick"/>
								<field name="avg_medical"       string="TM"/>
								<field name="avg_cosmetology"   string="Cosmeatria"/>
							</group>

						</group>



						<!-- Padding -->
						<group>
							<group>
							</group>
							<group>
							</group>
						</group>



						<!-- Notebook --> 
						<notebook>  


							<!-- Doctores --> 
							<page   string="Por Doctor">
								<field name="doctor_line">
									<tree string="Doctor">                                          

										<!-- Open Button -->
										<button 
											type="object" 
											class="oe_highlight"    
											name="open_line_current" 
											string="e"
										/>
										<field name="name"/>
										<field name="x_count"    string="Nr Ventas"/>
										<field name="per_nr"   widget="percentage"/>
										<field name="nr_consultations"/>
										<field name="nr_procedures"/>
										<field name="nr_products"/>
										<field name="ratio_pro_con"/>
										<field name="ratio_pro_con_co2"/>
										<field name="ratio_pro_con_quick"/>
										<field name="amount"/>
										<field name="per_amo"   widget="percentage"/>
									</tree>
								</field>
							</page>


							<!-- Day Prod --> 
							<page   string="Productividad">
								<field name="day_line">
									<tree string="Day Prod">
										<field name="date"/>
										<field name="weekday"/>
										<field name="holiday"/>
										<field name="duration"/>
										<field name="amount"/>
										<field name="cumulative"/>
										<field name="avg_amount"/>
										<field name="nr_days"/>
										<field name="projection"/>
									</tree>
								</field>
							</page>


							<!-- Familias --> 
							<page   string="Familias">
								<field name="family_line">                              
									<tree string="Familia"> 
										<field name="idx"/>
										<field name="name_sp"/>
										<field name="meta_sp"/>
										<field name="x_count"/>
										<field name="per_nr"   widget="percentage"/>
										<field name="amount"/>
										<field name="per_amo"   widget="percentage"/>
									</tree>
								</field>
							</page>

							<!-- Sub Familias --> 
							<page   string="Sub Familias">
								<field name="sub_family_line">
									<tree string="Subfamilia">  
										<field name="idx"/>
										<field name="name_sp"/>
										<field name="meta_sp"/>
										<field name="x_count"/>
										<field name="per_nr"   widget="percentage"/>
										<field name="amount"/>
										<field name="per_amo"   widget="percentage"/>
									</tree>
								</field>
							</page>


							<!-- Admin --> 
							<page   string="Admin"  groups='openhealth.roots'>
								<group      col="2">
									<group>
<!--
										<field name="state_arr"/>
-->
										<field name="type_arr"/>
									</group>
									<group>
										<field name="delta_fast"/>
										<field name="delta_doctor"/>
									</group>                        
								</group>
							</page>
						</notebook>
					</sheet>
				</form>
			</field>
		</record>




<!-- 2019 - Families -->

		<!-- Month 2019 - Fams -->
		<record model="ir.actions.act_window" id="management_list_mgt_2019_families_action">
			<field name="name">Por Familia</field>
			<field name="res_model">openhealth.management</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form,graph</field>
			<field name="context">{}</field>
			<field name="domain">[
									('owner', 'in', ['month']),
									('year', 'in', ['2019']),
								]
			</field>

			<field name="view_id" ref="management_view_families_tree"/> 
			<!--
			<field name="domain">[]</field>
			<field name="context">{}</field>
			<field name="view_id" eval="False"/>            
			-->
		</record>


		<!-- Month 2019 - Sub Fams -->
		<record model="ir.actions.act_window" id="management_list_mgt_2019_subfamilies_action">
			<field name="name">Por subfamilia</field>
			<field name="res_model">openhealth.management</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form,graph</field>
			<field name="context">{}</field>
			<field name="domain">[
									('owner', 'in', ['month']),
									('year', 'in', ['2019']),
								]
			</field>

			<field name="view_id" ref="management_view_subfamilies_tree"/> 
			<!--
			<field name="domain">[]</field>
			<field name="context">{}</field>
			<field name="view_id" eval="False"/>            
			-->
		</record>






<!-- 2018 - Families -->

		<!-- Month 2018 - Fams -->
		<record model="ir.actions.act_window" id="management_list_mgt_2018_families_action">
			
			<field name="name">Por Familia</field>
			
			<field name="res_model">openhealth.management</field>
			
			<field name="view_type">form</field>
			
			<field name="view_mode">tree,form,graph</field>
			
			<field name="context">{}</field>

			<field name="domain">[
									('owner', 'in', ['month']),
									('year', 'in', ['2018']),
								]
			</field>

			<field name="view_id" ref="management_view_families_tree"/> 

			<!--
			<field name="domain">[]</field>
			<field name="context">{}</field>
			<field name="view_id" eval="False"/>            
			-->
		</record>














		<!-- Not Export - Month -->
		<record model="ir.actions.act_window" id="management_list_mgt_action">
			<field name="name">Análisis de Ventas</field>
			<field name="res_model">openhealth.management</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form,graph</field>
			<field name="context">{}</field>

			<field name="domain">[
									('owner', 'not in', ['account', 'year']),
								]
			</field>

			<!--
			<field name="domain">[]</field>
			<field name="context">{}</field>
			<field name="view_id" eval="False"/>            
			-->
		</record>


		<!-- Not Export - Year -->
		<record model="ir.actions.act_window" id="management_list_mgt_year_action">
			<field name="name">Análisis de Ventas</field>
			<field name="res_model">openhealth.management</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>            
			<field name="context">{}</field>

			<field name="domain">[
									('owner', 'not in', ['account']),
									('owner', 'in', ['year']),
								]
			</field>

			<!--
			<field name="domain">[]</field>
			<field name="context">{}</field>
			<field name="view_id" eval="False"/>            
			-->
		</record>



<!-- Filter -->
		<record id="view_management_day_line_filter" model="ir.ui.view">
			<field name="name">day Search</field>

			<field name="model">openhealth.management.day.line</field>
			
			<field name="arch" type="xml">
			   <search string="dayes">

					<field  name="management_id"/>
			   
			   </search>
		   </field>
	   </record>




<!-- Filter -->
		<record id="view_management_day_doctor_line_filter" model="ir.ui.view">
			<field name="name">day doctor Search</field>

			<field name="model">openhealth.management.day.doctor.line</field>
			
			<field name="arch" type="xml">
			   <search string="Diario">
					
					<field  name="management_id"/>
			   
			   </search>
		   </field>
	   </record>



		<record model="ir.actions.act_window" id="management_list_action">
			<field name="name">Análisis de Ventas</field>
			<field name="res_model">openhealth.management</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form,graph</field>            
			<field name="domain">[]</field>
			<field name="context">{}</field>

			<field name="help" type="html">
				<p class="oe_view_nocontent_create">
					This is my first Help !
				</p>
			</field>

			<!--
			<field name="domain">[]</field>
			<field name="context">{}</field>
			<field name="view_id" eval="False"/>            
			-->
		</record>







		<!-- Export - Month -->
		<record model="ir.actions.act_window" id="management_list_mgt_export_month_action">
			<field name="name">Análisis de Ventas - Mensual - Export </field>
			<field name="res_model">openhealth.management</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="context">{}</field>

			<field name="domain">[
									('owner', 'not in', ['account', 'year']),
								]
			</field>

			<field name="view_id" ref="management_view_export_tree"/> 

			<!--
			<field name="domain">[]</field>
			<field name="context">{}</field>
			<field name="view_id" eval="False"/>            
			-->
		</record>



		<!-- Export - Year -->
		<record model="ir.actions.act_window" id="management_list_mgt_export_year_action">
			<field name="name">Análisis de Ventas - Anual - Export</field>
			<field name="res_model">openhealth.management</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="context">{}</field>

			<field name="domain">[
									('owner', 'not in', ['account']),
									('owner', 'in', ['year']),
								]
			</field>

			<field name="view_id" ref="management_view_export_tree"/> 

			<!--
			<field name="domain">[]</field>
			<field name="context">{}</field>
			<field name="view_id" eval="False"/>            
			-->
		</record>



<!-- TREE 2 --> 
		<record model="ir.ui.view" id="management_view_export_tree">

			<field name="name">openhealth.management.tree.2</field>
			<field name="model">openhealth.management</field>
			<field name="arch" type="xml">
				<tree string="Management Tree 2">
					
					<field name="name"/>

					<field name="total_amount" sum="Total" widget="monetary"/>



					<field name="per_amo_topical"/>
					<field name="per_amo_card"/>
					<field name="per_amo_kit"/>



					<field name="nr_products"/>
					<field name="nr_consultations"/>
					<field name="nr_procedures"/>

					<field name="amo_products"/>
					<field name="amo_consultations"/>
					<field name="amo_procedures"/>

					<field name="per_amo_products"/>
					<field name="per_amo_consultations"/>
					<field name="per_amo_procedures"/>



					<field name="amo_co2"/>
					<field name="amo_exc"/>
					<field name="amo_ipl"/>
					<field name="amo_ndyag"/>
					<field name="amo_quick"/>
					<field name="amo_medical"/>
					<field name="amo_cosmetology"/>

					<field name="per_amo_co2"/>
					<field name="per_amo_exc"/>
					<field name="per_amo_ipl"/>
					<field name="per_amo_ndyag"/>
					<field name="per_amo_quick"/>
					<field name="per_amo_medical"/>
					<field name="per_amo_cosmetology"/>



<!--
					<field name="total_count"       string="Nr Lineas"/>

					<field name="ratio_pro_con"     string="Ratio"/>
-->
				</tree>
			</field>
		</record>





<!-- TREE 3 --> 
		<record model="ir.ui.view" id="management_view_families_tree">
			<field name="name">openhealth.management.tree.3</field>
			<field name="model">openhealth.management</field>
			<field name="arch" type="xml">

				<tree string="Management Tree - Familias">
					
					<field name="name"/>

					<field name="total_amount" sum="Total" widget="monetary"/>

<!--
					<field name="nr_products"/>
					<field name="nr_consultations"/>
					<field name="nr_procedures"/>
-->
					<field name="amo_products"          sum="Productos" 		widget="monetary"/>
					<field name="amo_consultations"     sum="Consultas" 		widget="monetary"/>
					<field name="amo_procedures"        sum="Procedimientos"	widget="monetary"/>

					<field name="per_amo_products"      widget="percentage"/>
					<field name="per_amo_consultations" widget="percentage"/>
					<field name="per_amo_procedures"    widget="percentage"/>
				</tree>
			</field>
		</record>





<!-- TREE 4 --> 
		<record model="ir.ui.view" id="management_view_subfamilies_tree">
			<field name="name">openhealth.management.tree.4</field>
			<field name="model">openhealth.management</field>
			<field name="arch" type="xml">
				
				<tree string="Management Tree - Sub Familias">
					
					<field name="name"/>

					<field name="total_amount" sum="Total" widget="monetary"/>



					<field name="amo_topical"	string="Cremas"/>
					<field name="amo_card"		string="Cremas"/>
					<field name="amo_kit"		string="Kits"/>

					<field name="per_amo_topical"	string="% Cremas"	widget="percentage"/>
					<field name="per_amo_card"		string="% Cremas"	widget="percentage"/>
					<field name="per_amo_kit"		string="% Kits"	widget="percentage"	/>


					<field name="amo_co2"		string="Co2"	/>
					<field name="amo_quick"		string="Quick"	/>
					<field name="amo_exc"		string="Exc"	/>
					<field name="amo_ipl"		string="Ipl"	/>
					<field name="amo_ndyag"		string="Ndyag" />
					<field name="amo_medical"	string="T. Medicos"	/>
					<field name="amo_cosmetology"	string="Cosmeatria"	/>

					<field name="per_amo_co2"	string="% Co2"		widget="percentage"/>
					<field name="per_amo_quick"	string="% Quick"		widget="percentage"/>
					<field name="per_amo_exc"	string="% Exc"		widget="percentage"/>
					<field name="per_amo_ipl"	string="% Ipl"		widget="percentage"/>
					<field name="per_amo_ndyag"	string="% Ndyag"		widget="percentage"/>
					<field name="per_amo_medical"		string="T. Medicos"	widget="percentage"/>
					<field name="per_amo_cosmetology"	string="Cosmeatria"	widget="percentage"/>

				</tree>
			
			</field>
		</record>




<!-- TREE --> 
		<record model="ir.ui.view" id="management_view_tree">

			<field name="name">openhealth.management.tree</field>

			<field name="model">openhealth.management</field>

			<field name="arch" type="xml">

				<tree string="Management Tree">


					<field name="name"/>

					<field name="month"  groups="openhealth.roots"/>
					<field name="year"   groups="openhealth.roots"/>
					<field name="date_begin"    string="Fecha Inicio"   groups="openhealth.roots"/>
					<field name="date_end"      string="Fecha Fin"      groups="openhealth.roots"/>


<!--
					<field name="total_amount"/>
-->

					<field name="total_amount" sum="Total" widget="monetary"/>
					<field name="per_amo_total"     widget="percentage"  />


					<field name="write_date"        string="Actualizado"/>
					<field name="delta_fast"        groups="openhealth.roots"/>
					<field name="delta_doctor"      groups="openhealth.roots"/>

<!--
					<field name="test_target"   groups="openhealth.roots"/>
-->                
					<field name="owner"         groups="openhealth.roots"/>
					<field name="type_arr"      groups="openhealth.roots"/>



<!--
					<field name="date_begin"    string="Fecha Inicio"/>
					<field name="date_end"      string="Fecha Fin"/>
-->
					<field name="nr_products"/>
					<field name="nr_consultations"/>
					<field name="nr_procedures"/>

					<field name="ratio_pro_con"     string="Ratio"/>
					
					<field name="total_tickets"/>
					<field name="total_count"/>

				</tree>
			</field>
		</record>
<!--
					<field name="avg_total_amount"/>
					<field name="write_date"    string="Actualizado"/>
-->

